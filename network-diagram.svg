<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 1600 1200" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="800" y="40" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Lereta Data Platform - Network Diagram</text>
  <text x="800" y="65" font-size="14" text-anchor="middle" fill="#666">System Interconnections and Data Flow</text>
  
  <!-- Definitions -->
  <defs>
    <!-- Arrow markers -->
    <marker id="arrowblue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#0066CC"/>
    </marker>
    <marker id="arroworange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#FF8C00"/>
    </marker>
    <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#228B22"/>
    </marker>
    <marker id="arrowpurple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#8B008B"/>
    </marker>
  </defs>
  
  <!-- SOURCE SYSTEMS LAYER (Top Left) -->
  <g id="sources">
    <!-- Mainframe -->
    <circle cx="200" cy="200" r="60" fill="#E8F4F8" stroke="#0066CC" stroke-width="3"/>
    <text x="200" y="195" font-size="13" font-weight="bold" text-anchor="middle">Mainframe</text>
    <text x="200" y="210" font-size="10" text-anchor="middle">Database</text>
    
    <!-- SQL Server -->
    <circle cx="200" cy="350" r="55" fill="#E8F4F8" stroke="#0066CC" stroke-width="3"/>
    <text x="200" y="345" font-size="13" font-weight="bold" text-anchor="middle">SQL Server</text>
    <text x="200" y="360" font-size="10" text-anchor="middle">On-Prem</text>
    
    <!-- Azure SQL -->
    <circle cx="200" cy="500" r="55" fill="#E8F4F8" stroke="#0066CC" stroke-width="3"/>
    <text x="200" y="490" font-size="13" font-weight="bold" text-anchor="middle">Azure SQL</text>
    <text x="200" y="505" font-size="9" text-anchor="middle">Elevate</text>
    <text x="200" y="518" font-size="9" text-anchor="middle">LorettaNet</text>
    
    <!-- Oracle -->
    <circle cx="200" cy="650" r="50" fill="#E8F4F8" stroke="#0066CC" stroke-width="3"/>
    <text x="200" y="648" font-size="13" font-weight="bold" text-anchor="middle">Oracle</text>
    <text x="200" y="663" font-size="10" text-anchor="middle">On-Prem</text>
  </g>
  
  <!-- INTEGRATION LAYER (Middle Left) -->
  <g id="integration">
    <!-- SQL Gateway -->
    <rect x="380" y="150" width="140" height="100" rx="15" fill="#FFF4E6" stroke="#FF8C00" stroke-width="3"/>
    <text x="450" y="190" font-size="13" font-weight="bold" text-anchor="middle">SQL Gateway</text>
    <text x="450" y="210" font-size="10" text-anchor="middle">Software AG</text>
    <text x="450" y="225" font-size="9" text-anchor="middle">Mainframe Extract</text>
    
    <!-- SSIS / OpenFlow -->
    <rect x="380" y="380" width="140" height="120" rx="15" fill="#FFF4E6" stroke="#FF8C00" stroke-width="3"/>
    <text x="450" y="415" font-size="13" font-weight="bold" text-anchor="middle">SSIS</text>
    <text x="450" y="432" font-size="10" text-anchor="middle">Current ETL</text>
    <line x1="390" y1="445" x2="510" y2="445" stroke="#FF8C00" stroke-width="1" stroke-dasharray="3,3"/>
    <text x="450" y="465" font-size="13" font-weight="bold" text-anchor="middle">OpenFlow</text>
    <text x="450" y="482" font-size="10" text-anchor="middle">Future CDC</text>
    
    <!-- Control Center -->
    <rect x="380" y="580" width="140" height="70" rx="15" fill="#FFF4E6" stroke="#FF8C00" stroke-width="3"/>
    <text x="450" y="610" font-size="12" font-weight="bold" text-anchor="middle">Control Center</text>
    <text x="450" y="628" font-size="9" text-anchor="middle">EDWCC</text>
    <text x="450" y="642" font-size="9" text-anchor="middle">Metadata</text>
  </g>
  
  <!-- SNOWFLAKE PLATFORM (Center) -->
  <g id="snowflake">
    <!-- Main Snowflake Platform -->
    <ellipse cx="800" cy="420" rx="180" ry="250" fill="#B3E5FC" stroke="#29B5E8" stroke-width="4"/>
    <text x="800" y="220" font-size="18" font-weight="bold" text-anchor="middle" fill="#0277BD">SNOWFLAKE</text>
    <text x="800" y="242" font-size="11" text-anchor="middle" fill="#0277BD">Business Critical Edition</text>
    
    <!-- Storage Layers -->
    <rect x="710" y="270" width="70" height="50" rx="8" fill="#FFE082" stroke="#F57C00" stroke-width="2"/>
    <text x="745" y="293" font-size="11" font-weight="bold" text-anchor="middle">Bronze</text>
    <text x="745" y="308" font-size="9" text-anchor="middle">Raw Data</text>
    
    <rect x="790" y="270" width="70" height="50" rx="8" fill="#C0C0C0" stroke="#757575" stroke-width="2"/>
    <text x="825" y="293" font-size="11" font-weight="bold" text-anchor="middle">Silver</text>
    <text x="825" y="308" font-size="9" text-anchor="middle">Historical</text>
    
    <rect x="870" y="270" width="70" height="50" rx="8" fill="#FFD700" stroke="#DAA520" stroke-width="2"/>
    <text x="905" y="293" font-size="11" font-weight="bold" text-anchor="middle">Gold</text>
    <text x="905" y="308" font-size="9" text-anchor="middle">Analytics</text>
    
    <!-- Compute Warehouses -->
    <text x="800" y="360" font-size="12" font-weight="bold" text-anchor="middle" fill="#0277BD">Compute Warehouses</text>
    
    <rect x="660" y="370" width="80" height="35" rx="5" fill="#FFF9C4" stroke="#F57F17" stroke-width="1.5"/>
    <text x="700" y="390" font-size="9" text-anchor="middle">Loading</text>
    <text x="700" y="400" font-size="8" text-anchor="middle">(Shared)</text>
    
    <rect x="750" y="370" width="80" height="35" rx="5" fill="#FFF9C4" stroke="#F57F17" stroke-width="1.5"/>
    <text x="790" y="390" font-size="9" text-anchor="middle">Transform</text>
    <text x="790" y="400" font-size="8" text-anchor="middle">(Shared)</text>
    
    <rect x="840" y="370" width="80" height="35" rx="5" fill="#FFF9C4" stroke="#F57F17" stroke-width="1.5"/>
    <text x="880" y="390" font-size="9" text-anchor="middle">Accounting</text>
    
    <rect x="660" y="415" width="80" height="35" rx="5" fill="#FFF9C4" stroke="#F57F17" stroke-width="1.5"/>
    <text x="700" y="435" font-size="9" text-anchor="middle">Operations</text>
    
    <rect x="750" y="415" width="80" height="35" rx="5" fill="#FFF9C4" stroke="#F57F17" stroke-width="1.5"/>
    <text x="790" y="435" font-size="9" text-anchor="middle">Client Rpts</text>
    
    <rect x="840" y="415" width="80" height="35" rx="5" fill="#FFF9C4" stroke="#F57F17" stroke-width="1.5"/>
    <text x="880" y="435" font-size="9" text-anchor="middle">Dev/Test</text>
    
    <!-- Features -->
    <text x="800" y="480" font-size="10" font-weight="bold" text-anchor="middle" fill="#0277BD">Core Features</text>
    <text x="800" y="495" font-size="8" text-anchor="middle">Dynamic Tables • Streams • Tasks</text>
    <text x="800" y="508" font-size="8" text-anchor="middle">Zero-Copy Cloning • Time Travel</text>
    <text x="800" y="521" font-size="8" text-anchor="middle">Cortex AI • ML Models</text>
    
    <!-- Security -->
    <text x="800" y="550" font-size="10" font-weight="bold" text-anchor="middle" fill="#0277BD">Security &amp; Governance</text>
    <text x="800" y="565" font-size="8" text-anchor="middle">RBAC • Dynamic Masking • Lineage</text>
    <text x="800" y="578" font-size="8" text-anchor="middle">Tags • Audit Logging • Policies</text>
    
    <!-- Storage Stats -->
    <text x="800" y="620" font-size="9" font-weight="bold" text-anchor="middle" fill="#0277BD">Storage: ~32TB (5:1 compression)</text>
    <text x="800" y="635" font-size="8" text-anchor="middle">Cost: ~$8,800/year</text>
  </g>
  
  <!-- GOVERNANCE (Top Right) -->
  <g id="governance">
    <rect x="1120" y="150" width="160" height="100" rx="15" fill="#FFF9E6" stroke="#FF9800" stroke-width="3"/>
    <text x="1200" y="185" font-size="14" font-weight="bold" text-anchor="middle">Atacama</text>
    <text x="1200" y="205" font-size="10" text-anchor="middle">Data Quality</text>
    <text x="1200" y="220" font-size="10" text-anchor="middle">Data Catalog</text>
    <text x="1200" y="235" font-size="10" text-anchor="middle">CDEs Management</text>
  </g>
  
  <!-- ANALYTICS & REPORTING (Right) -->
  <g id="analytics">
    <!-- Power BI -->
    <circle cx="1150" cy="380" r="50" fill="#F0E6FF" stroke="#8B008B" stroke-width="3"/>
    <text x="1150" y="375" font-size="12" font-weight="bold" text-anchor="middle">Power BI</text>
    <text x="1150" y="390" font-size="9" text-anchor="middle">Live Query</text>
    
    <!-- Snowflake Intelligence -->
    <circle cx="1150" cy="500" r="55" fill="#F0E6FF" stroke="#8B008B" stroke-width="3"/>
    <text x="1150" y="490" font-size="11" font-weight="bold" text-anchor="middle">Snowflake</text>
    <text x="1150" y="503" font-size="11" font-weight="bold" text-anchor="middle">Intelligence</text>
    <text x="1150" y="518" font-size="9" text-anchor="middle">AI Agents</text>
    
    <!-- Sigma Analytics -->
    <circle cx="1150" cy="620" r="50" fill="#F0E6FF" stroke="#8B008B" stroke-width="3"/>
    <text x="1150" y="615" font-size="12" font-weight="bold" text-anchor="middle">Sigma</text>
    <text x="1150" y="628" font-size="9" text-anchor="middle">Analytics</text>
    
    <!-- APIs -->
    <rect x="1080" y="700" width="140" height="60" rx="10" fill="#F0E6FF" stroke="#8B008B" stroke-width="3"/>
    <text x="1150" y="725" font-size="12" font-weight="bold" text-anchor="middle">External APIs</text>
    <text x="1150" y="743" font-size="9" text-anchor="middle">Microservices</text>
    <text x="1150" y="756" font-size="9" text-anchor="middle">Client Portals</text>
  </g>
  
  <!-- USERS (Far Right) -->
  <g id="users">
    <ellipse cx="1400" cy="500" rx="90" ry="120" fill="#FFE6E6" stroke="#CC0000" stroke-width="3"/>
    <text x="1400" y="450" font-size="14" font-weight="bold" text-anchor="middle">End Users</text>
    <text x="1400" y="475" font-size="10" text-anchor="middle">Management</text>
    <text x="1400" y="495" font-size="10" text-anchor="middle">Accounting</text>
    <text x="1400" y="515" font-size="10" text-anchor="middle">Operations</text>
    <text x="1400" y="535" font-size="10" text-anchor="middle">Developers</text>
    <text x="1400" y="555" font-size="10" text-anchor="middle">Clients</text>
    <text x="1400" y="572" font-size="9" text-anchor="middle">(20-25 external)</text>
  </g>
  
  <!-- CLOUD STORAGE (Bottom Center) -->
  <g id="storage">
    <rect x="550" y="750" width="180" height="90" rx="15" fill="#E3F2FD" stroke="#1976D2" stroke-width="3"/>
    <text x="640" y="780" font-size="13" font-weight="bold" text-anchor="middle">Azure Cloud</text>
    <text x="640" y="800" font-size="10" text-anchor="middle">Blob Storage</text>
    <text x="640" y="815" font-size="10" text-anchor="middle">ADLS</text>
    <text x="640" y="830" font-size="9" text-anchor="middle">Iceberg Tables</text>
  </g>
  
  <!-- PARTNERS (Bottom) -->
  <g id="partners">
    <rect x="900" y="900" width="130" height="70" rx="10" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
    <text x="965" y="925" font-size="12" font-weight="bold" text-anchor="middle">KPMG</text>
    <text x="965" y="943" font-size="9" text-anchor="middle">Migration Partner</text>
    <text x="965" y="958" font-size="8" text-anchor="middle">Phase 1 &amp; 2</text>
    
    <rect x="1050" y="900" width="130" height="70" rx="10" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
    <text x="1115" y="925" font-size="12" font-weight="bold" text-anchor="middle">Snowflake PS</text>
    <text x="1115" y="943" font-size="9" text-anchor="middle">RSA + Training</text>
    <text x="1115" y="958" font-size="8" text-anchor="middle">Professional Svcs</text>
  </g>
  
  <!-- CONNECTIONS -->
  <!-- Sources to Integration -->
  <line x1="260" y1="200" x2="380" y2="200" stroke="#0066CC" stroke-width="2" marker-end="url(#arrowblue)"/>
  <line x1="255" y1="350" x2="380" y2="440" stroke="#0066CC" stroke-width="2" marker-end="url(#arrowblue)"/>
  <line x1="255" y1="500" x2="380" y2="440" stroke="#0066CC" stroke-width="2" marker-end="url(#arrowblue)"/>
  <line x1="250" y1="650" x2="380" y2="450" stroke="#0066CC" stroke-width="2" marker-end="url(#arrowblue)"/>
  
  <!-- Integration to Cloud Storage -->
  <line x1="450" y1="250" x2="600" y2="750" stroke="#FF8C00" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arroworange)"/>
  
  <!-- Integration to Snowflake -->
  <line x1="520" y1="200" x2="620" y2="350" stroke="#FF8C00" stroke-width="3" marker-end="url(#arroworange)"/>
  <line x1="520" y1="440" x2="620" y2="420" stroke="#FF8C00" stroke-width="3" marker-end="url(#arroworange)"/>
  
  <!-- Cloud Storage to Snowflake -->
  <line x1="680" y1="750" x2="720" y2="580" stroke="#1976D2" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Snowflake to Atacama (bidirectional) -->
  <line x1="980" y1="350" x2="1120" y2="220" stroke="#FF9800" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="1120" y1="210" x2="980" y2="340" stroke="#FF9800" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Snowflake to Analytics -->
  <line x1="980" y1="380" x2="1100" y2="380" stroke="#228B22" stroke-width="2.5" marker-end="url(#arrowgreen)"/>
  <line x1="980" y1="420" x2="1095" y2="500" stroke="#228B22" stroke-width="2.5" marker-end="url(#arrowgreen)"/>
  <line x1="980" y1="460" x2="1100" y2="620" stroke="#228B22" stroke-width="2.5" marker-end="url(#arrowgreen)"/>
  <line x1="900" y1="580" x2="1080" y2="730" stroke="#228B22" stroke-width="2.5" marker-end="url(#arrowgreen)"/>
  
  <!-- Analytics to Users -->
  <line x1="1200" y1="380" x2="1310" y2="450" stroke="#8B008B" stroke-width="2" marker-end="url(#arrowpurple)"/>
  <line x1="1205" y1="500" x2="1310" y2="500" stroke="#8B008B" stroke-width="2" marker-end="url(#arrowpurple)"/>
  <line x1="1200" y1="620" x2="1310" y2="550" stroke="#8B008B" stroke-width="2" marker-end="url(#arrowpurple)"/>
  <line x1="1150" y1="760" x2="1320" y2="580" stroke="#8B008B" stroke-width="2" marker-end="url(#arrowpurple)"/>
  
  <!-- Partners to Snowflake -->
  <line x1="965" y1="900" x2="800" y2="670" stroke="#4CAF50" stroke-width="2" stroke-dasharray="3,3"/>
  <line x1="1115" y1="900" x2="850" y2="670" stroke="#4CAF50" stroke-width="2" stroke-dasharray="3,3"/>
  
  <!-- Legend -->
  <g id="legend">
    <rect x="50" y="900" width="280" height="230" fill="#F5F5F5" stroke="#999" stroke-width="2" rx="10"/>
    <text x="190" y="925" font-size="13" font-weight="bold" text-anchor="middle">Legend</text>
    
    <circle cx="80" cy="950" r="12" fill="#E8F4F8" stroke="#0066CC" stroke-width="2"/>
    <text x="105" y="955" font-size="10">Source Systems</text>
    
    <rect x="68" y="970" width="24" height="20" rx="3" fill="#FFF4E6" stroke="#FF8C00" stroke-width="2"/>
    <text x="105" y="983" font-size="10">Integration/ETL</text>
    
    <ellipse cx="80" cy="1015" rx="15" ry="12" fill="#B3E5FC" stroke="#29B5E8" stroke-width="2"/>
    <text x="105" y="1019" font-size="10">Snowflake Platform</text>
    
    <circle cx="80" cy="1045" r="12" fill="#F0E6FF" stroke="#8B008B" stroke-width="2"/>
    <text x="105" y="1050" font-size="10">Analytics/Reporting</text>
    
    <rect x="68" y="1065" width="24" height="20" rx="3" fill="#FFF9E6" stroke="#FF9800" stroke-width="2"/>
    <text x="105" y="1078" font-size="10">Data Governance</text>
    
    <line x1="60" y1="1100" x2="100" y2="1100" stroke="#228B22" stroke-width="2.5" marker-end="url(#arrowgreen)"/>
    <text x="105" y="1104" font-size="10">Data Flow</text>
    
    <line x1="60" y1="1118" x2="100" y2="1118" stroke="#999" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="105" y="1122" font-size="10">Control/Metadata</text>
  </g>
  
  <!-- Stats Box -->
  <g id="stats">
    <rect x="1210" y="900" width="340" height="230" fill="#FFFEF7" stroke="#FF9800" stroke-width="2" rx="10"/>
    <text x="1380" y="925" font-size="13" font-weight="bold" text-anchor="middle">Key Metrics</text>
    
    <text x="1230" y="950" font-size="10" font-weight="bold">Current State:</text>
    <text x="1230" y="968" font-size="9">• Data: ~160TB (includes indexes)</text>
    <text x="1230" y="983" font-size="9">• PSA: 8TB, 13.7B records</text>
    <text x="1230" y="998" font-size="9">• Reports: 500+ across org</text>
    <text x="1230" y="1013" font-size="9">• Refresh: 90% daily, some 8x/day</text>
    
    <text x="1230" y="1038" font-size="10" font-weight="bold">Future (Snowflake):</text>
    <text x="1230" y="1056" font-size="9">• Storage: ~32TB (5:1 compression)</text>
    <text x="1230" y="1071" font-size="9">• Cost: ~$8,800/year storage</text>
    <text x="1230" y="1086" font-size="9">• Team: 2 engineers + 1 lead</text>
    <text x="1230" y="1101" font-size="9">• Domains: Agency, Customer, Loan</text>
    <text x="1230" y="1116" font-size="9">• Timeline: Dec 2025 - July 2026</text>
  </g>
  
  <!-- Footer -->
  <text x="800" y="1180" font-size="11" text-anchor="middle" fill="#666">Lereta Data Modernization Initiative | November 2025</text>
</svg>
