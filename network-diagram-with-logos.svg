<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 1800 1400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <!-- Title -->
  <text x="900" y="40" font-size="26" font-weight="bold" text-anchor="middle" fill="#2C3E50">Lereta Data Modernization - Network Architecture</text>
  <text x="900" y="70" font-size="14" text-anchor="middle" fill="#7F8C8D">System Interconnections and Data Flow</text>
  
  <!-- Definitions for arrows and gradients -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#3498DB"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#27AE60"/>
    </marker>
    <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#E67E22"/>
    </marker>
    <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#E74C3C"/>
    </marker>
    
    <!-- Shadow filter -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background sections -->
  <rect x="50" y="100" width="280" height="550" fill="#ECF0F1" stroke="#BDC3C7" stroke-width="2" rx="10" opacity="0.3"/>
  <text x="190" y="130" font-size="14" font-weight="bold" text-anchor="middle" fill="#34495E">SOURCE SYSTEMS</text>
  
  <rect x="380" y="100" width="280" height="550" fill="#FFF3E0" stroke="#FFB74D" stroke-width="2" rx="10" opacity="0.3"/>
  <text x="520" y="130" font-size="14" font-weight="bold" text-anchor="middle" fill="#E65100">INTEGRATION LAYER</text>
  
  <rect x="710" y="100" width="400" height="550" fill="#E3F2FD" stroke="#42A5F5" stroke-width="2" rx="10" opacity="0.3"/>
  <text x="910" y="130" font-size="14" font-weight="bold" text-anchor="middle" fill="#1565C0">SNOWFLAKE PLATFORM</text>
  
  <rect x="1160" y="100" width="280" height="550" fill="#F3E5F5" stroke="#BA68C8" stroke-width="2" rx="10" opacity="0.3"/>
  <text x="1300" y="130" font-size="14" font-weight="bold" text-anchor="middle" fill="#6A1B9A">CONSUMPTION</text>
  
  <rect x="1490" y="100" width="260" height="550" fill="#FFEBEE" stroke="#EF5350" stroke-width="2" rx="10" opacity="0.3"/>
  <text x="1620" y="130" font-size="14" font-weight="bold" text-anchor="middle" fill="#C62828">END USERS</text>
  
  <!-- SOURCE SYSTEMS -->
  <!-- Mainframe -->
  <g id="mainframe" filter="url(#shadow)">
    <rect x="80" y="170" width="200" height="80" fill="white" stroke="#5D6D7E" stroke-width="2" rx="8"/>
    <image x="90" y="180" width="60" height="60" xlink:href="/Users/sdickson/TestCode/Logos/IBM Mainframe Logo.png"/>
    <text x="190" y="205" font-size="13" font-weight="bold" text-anchor="middle">IBM Mainframe</text>
    <text x="190" y="225" font-size="10" text-anchor="middle">Database</text>
    <text x="190" y="240" font-size="9" text-anchor="middle" fill="#7F8C8D">→ Linux/Containers</text>
  </g>
  
  <!-- SQL Server -->
  <g id="sqlserver" filter="url(#shadow)">
    <rect x="80" y="270" width="200" height="80" fill="white" stroke="#5D6D7E" stroke-width="2" rx="8"/>
    <image x="90" y="280" width="60" height="60" xlink:href="/Users/sdickson/TestCode/Logos/microsoft-sql-server-logo.svg"/>
    <text x="190" y="305" font-size="13" font-weight="bold" text-anchor="middle">SQL Server</text>
    <text x="190" y="325" font-size="10" text-anchor="middle">On-Premises</text>
  </g>
  
  <!-- Azure SQL -->
  <g id="azuresql" filter="url(#shadow)">
    <rect x="80" y="370" width="200" height="80" fill="white" stroke="#5D6D7E" stroke-width="2" rx="8"/>
    <image x="90" y="380" width="60" height="60" xlink:href="/Users/sdickson/TestCode/Logos/Microsoft Azure SQL.png"/>
    <text x="190" y="400" font-size="13" font-weight="bold" text-anchor="middle">Azure SQL</text>
    <text x="190" y="418" font-size="9" text-anchor="middle">Elevate Platform</text>
    <text x="190" y="433" font-size="9" text-anchor="middle">LorettaNet</text>
  </g>
  
  <!-- Oracle -->
  <g id="oracle" filter="url(#shadow)">
    <rect x="80" y="470" width="200" height="80" fill="white" stroke="#5D6D7E" stroke-width="2" rx="8"/>
    <image x="90" y="480" width="60" height="60" xlink:href="/Users/sdickson/TestCode/Logos/Oracle_DB_Logo.svg"/>
    <text x="190" y="505" font-size="13" font-weight="bold" text-anchor="middle">Oracle Database</text>
    <text x="190" y="525" font-size="10" text-anchor="middle">On-Premises (Limited)</text>
  </g>
  
  <!-- INTEGRATION LAYER -->
  <!-- SQL Gateway -->
  <g id="sqlgateway" filter="url(#shadow)">
    <rect x="410" y="170" width="200" height="90" fill="white" stroke="#E67E22" stroke-width="2" rx="8"/>
    <text x="510" y="200" font-size="13" font-weight="bold" text-anchor="middle">SQL Gateway</text>
    <text x="510" y="218" font-size="10" text-anchor="middle">Software AG</text>
    <text x="510" y="235" font-size="9" text-anchor="middle" fill="#7F8C8D">Mainframe Extraction</text>
    <text x="510" y="250" font-size="9" text-anchor="middle" fill="#7F8C8D">→ Cloud Storage</text>
  </g>
  
  <!-- SSIS / OpenFlow -->
  <g id="ssis-openflow" filter="url(#shadow)">
    <rect x="410" y="280" width="200" height="120" fill="white" stroke="#E67E22" stroke-width="2" rx="8"/>
    <text x="510" y="310" font-size="13" font-weight="bold" text-anchor="middle">SSIS</text>
    <text x="510" y="328" font-size="10" text-anchor="middle">Current ETL</text>
    <line x1="425" y1="345" x2="595" y2="345" stroke="#E67E22" stroke-width="2" stroke-dasharray="5,5"/>
    <image x="430" y="355" width="40" height="35" xlink:href="/Users/sdickson/TestCode/Logos/OpenFlow_Logo.svg"/>
    <text x="535" y="370" font-size="13" font-weight="bold" text-anchor="middle">OpenFlow</text>
    <text x="535" y="388" font-size="10" text-anchor="middle">Future CDC</text>
  </g>
  
  <!-- Azure Cloud Storage -->
  <g id="azurestorage" filter="url(#shadow)">
    <rect x="410" y="420" width="200" height="90" fill="white" stroke="#E67E22" stroke-width="2" rx="8"/>
    <image x="420" y="430" width="60" height="60" xlink:href="/Users/sdickson/TestCode/Logos/Azure Data Lake Storage.png"/>
    <text x="530" y="455" font-size="12" font-weight="bold" text-anchor="middle">Azure Cloud</text>
    <text x="530" y="473" font-size="10" text-anchor="middle">Blob / ADLS</text>
    <text x="530" y="490" font-size="9" text-anchor="middle" fill="#7F8C8D">Iceberg Tables</text>
  </g>
  
  <!-- SNOWFLAKE PLATFORM -->
  <g id="snowflake-platform" filter="url(#shadow)">
    <!-- Main platform box -->
    <rect x="740" y="160" width="340" height="460" fill="white" stroke="#29B5E8" stroke-width="3" rx="12"/>
    
    <!-- Snowflake Logo -->
    <image x="850" y="175" width="120" height="40" xlink:href="/Users/sdickson/TestCode/Logos/Snowflake_Logo.svg"/>
    <text x="910" y="235" font-size="11" text-anchor="middle" fill="#0277BD">Business Critical Edition</text>
    
    <!-- Medallion Architecture -->
    <text x="910" y="265" font-size="12" font-weight="bold" text-anchor="middle" fill="#0277BD">Medallion Architecture</text>
    <rect x="770" y="275" width="90" height="50" fill="#FFE082" stroke="#F57C00" stroke-width="2" rx="5"/>
    <text x="815" y="298" font-size="11" font-weight="bold" text-anchor="middle">Bronze</text>
    <text x="815" y="313" font-size="9" text-anchor="middle">Raw Data</text>
    
    <rect x="875" y="275" width="90" height="50" fill="#B0BEC5" stroke="#546E7A" stroke-width="2" rx="5"/>
    <text x="920" y="298" font-size="11" font-weight="bold" text-anchor="middle">Silver</text>
    <text x="920" y="313" font-size="9" text-anchor="middle">Cleansed</text>
    
    <rect x="980" y="275" width="90" height="50" fill="#FFD54F" stroke="#F9A825" stroke-width="2" rx="5"/>
    <text x="1025" y="298" font-size="11" font-weight="bold" text-anchor="middle">Gold</text>
    <text x="1025" y="313" font-size="9" text-anchor="middle">Analytics</text>
    
    <!-- Compute Warehouses -->
    <text x="910" y="350" font-size="11" font-weight="bold" text-anchor="middle" fill="#0277BD">Compute Warehouses</text>
    <rect x="760" y="360" width="90" height="35" fill="#E1F5FE" stroke="#0288D1" stroke-width="1.5" rx="4"/>
    <text x="805" y="380" font-size="9" text-anchor="middle">Data Loading</text>
    <text x="805" y="391" font-size="8" text-anchor="middle">(Shared)</text>
    
    <rect x="865" y="360" width="90" height="35" fill="#E1F5FE" stroke="#0288D1" stroke-width="1.5" rx="4"/>
    <text x="910" y="380" font-size="9" text-anchor="middle">Transform</text>
    <text x="910" y="391" font-size="8" text-anchor="middle">(Shared)</text>
    
    <rect x="970" y="360" width="90" height="35" fill="#E1F5FE" stroke="#0288D1" stroke-width="1.5" rx="4"/>
    <text x="1015" y="380" font-size="9" text-anchor="middle">Accounting</text>
    
    <rect x="760" y="405" width="90" height="35" fill="#E1F5FE" stroke="#0288D1" stroke-width="1.5" rx="4"/>
    <text x="805" y="425" font-size="9" text-anchor="middle">Operations</text>
    
    <rect x="865" y="405" width="90" height="35" fill="#E1F5FE" stroke="#0288D1" stroke-width="1.5" rx="4"/>
    <text x="910" y="425" font-size="9" text-anchor="middle">Client Reports</text>
    
    <rect x="970" y="405" width="90" height="35" fill="#E1F5FE" stroke="#0288D1" stroke-width="1.5" rx="4"/>
    <text x="1015" y="425" font-size="9" text-anchor="middle">Dev/Test</text>
    
    <!-- Features -->
    <line x1="750" y1="455" x2="1070" y2="455" stroke="#B0BEC5" stroke-width="1"/>
    <text x="910" y="475" font-size="10" font-weight="bold" text-anchor="middle" fill="#0277BD">Core Features</text>
    <text x="910" y="492" font-size="8" text-anchor="middle">Dynamic Tables • Streams • Tasks</text>
    <text x="910" y="506" font-size="8" text-anchor="middle">Zero-Copy Cloning • Time Travel</text>
    <text x="910" y="520" font-size="8" text-anchor="middle">Cortex AI • ML Models</text>
    
    <line x1="750" y1="535" x2="1070" y2="535" stroke="#B0BEC5" stroke-width="1"/>
    <text x="910" y="555" font-size="10" font-weight="bold" text-anchor="middle" fill="#0277BD">Security &amp; Governance</text>
    <text x="910" y="572" font-size="8" text-anchor="middle">RBAC • Dynamic Masking • Lineage</text>
    <text x="910" y="586" font-size="8" text-anchor="middle">Tags • Audit Logging • Policies</text>
    
    <!-- Storage Info -->
    <text x="910" y="608" font-size="9" font-weight="bold" text-anchor="middle" fill="#0277BD">Storage: ~32TB (5:1 compression)</text>
  </g>
  
  <!-- GOVERNANCE -->
  <g id="atacama" filter="url(#shadow)">
    <rect x="740" y="690" width="170" height="90" fill="white" stroke="#FF9800" stroke-width="2" rx="8"/>
    <image x="750" y="700" width="60" height="60" xlink:href="/Users/sdickson/TestCode/Logos/atacama_logo.png"/>
    <text x="865" y="720" font-size="12" font-weight="bold" text-anchor="middle">Atacama</text>
    <text x="865" y="738" font-size="9" text-anchor="middle">Data Quality</text>
    <text x="865" y="753" font-size="9" text-anchor="middle">Data Catalog</text>
    <text x="865" y="768" font-size="9" text-anchor="middle">CDEs</text>
  </g>
  
  <!-- CONSUMPTION LAYER -->
  <!-- Power BI -->
  <g id="powerbi" filter="url(#shadow)">
    <rect x="1190" y="180" width="220" height="80" fill="white" stroke="#8B008B" stroke-width="2" rx="8"/>
    <image x="1200" y="190" width="60" height="60" xlink:href="/Users/sdickson/TestCode/Logos/Powerbi logo.avif"/>
    <text x="1330" y="215" font-size="13" font-weight="bold" text-anchor="middle">Power BI</text>
    <text x="1330" y="235" font-size="10" text-anchor="middle">Live Query</text>
  </g>
  
  <!-- Snowflake Intelligence -->
  <g id="snowflake-intelligence" filter="url(#shadow)">
    <rect x="1190" y="280" width="220" height="80" fill="white" stroke="#8B008B" stroke-width="2" rx="8"/>
    <image x="1200" y="290" width="50" height="50" xlink:href="/Users/sdickson/TestCode/Logos/Snowflake.svg"/>
    <text x="1330" y="310" font-size="12" font-weight="bold" text-anchor="middle">Snowflake</text>
    <text x="1330" y="328" font-size="12" font-weight="bold" text-anchor="middle">Intelligence</text>
    <text x="1330" y="346" font-size="9" text-anchor="middle">AI Agents / Cortex</text>
  </g>
  
  <!-- Sigma Analytics -->
  <g id="sigma" filter="url(#shadow)">
    <rect x="1190" y="380" width="220" height="80" fill="white" stroke="#8B008B" stroke-width="2" rx="8"/>
    <image x="1200" y="390" width="60" height="60" xlink:href="/Users/sdickson/TestCode/Logos/Sigma logo.png"/>
    <text x="1330" y="415" font-size="13" font-weight="bold" text-anchor="middle">Sigma Analytics</text>
    <text x="1330" y="435" font-size="10" text-anchor="middle">(Potential)</text>
  </g>
  
  <!-- Client Portals -->
  <g id="client-portals" filter="url(#shadow)">
    <rect x="1190" y="480" width="220" height="80" fill="white" stroke="#8B008B" stroke-width="2" rx="8"/>
    <text x="1300" y="510" font-size="13" font-weight="bold" text-anchor="middle">Client Portals</text>
    <text x="1300" y="530" font-size="10" text-anchor="middle">External APIs</text>
    <text x="1300" y="548" font-size="9" text-anchor="middle">Embedded iFrames</text>
  </g>
  
  <!-- END USERS -->
  <g id="end-users" filter="url(#shadow)">
    <ellipse cx="1620" cy="380" rx="110" ry="140" fill="white" stroke="#E74C3C" stroke-width="3"/>
    <text x="1620" y="310" font-size="15" font-weight="bold" text-anchor="middle" fill="#C62828">End Users</text>
    <text x="1620" y="345" font-size="11" text-anchor="middle">Management</text>
    <text x="1620" y="370" font-size="11" text-anchor="middle">Accounting</text>
    <text x="1620" y="395" font-size="11" text-anchor="middle">Operations</text>
    <text x="1620" y="420" font-size="11" text-anchor="middle">Developers</text>
    <text x="1620" y="445" font-size="11" text-anchor="middle">Clients</text>
    <text x="1620" y="465" font-size="9" text-anchor="middle" fill="#7F8C8D">(20-25 external)</text>
  </g>
  
  <!-- PARTNERS (Bottom) -->
  <g id="kpmg" filter="url(#shadow)">
    <rect x="740" y="820" width="170" height="90" fill="white" stroke="#4CAF50" stroke-width="2" rx="8"/>
    <image x="750" y="830" width="60" height="60" xlink:href="/Users/sdickson/TestCode/Logos/KPMG Logo.png"/>
    <text x="865" y="855" font-size="12" font-weight="bold" text-anchor="middle">KPMG</text>
    <text x="865" y="873" font-size="9" text-anchor="middle">Migration Partner</text>
    <text x="865" y="888" font-size="9" text-anchor="middle">$1.02M / 20-22 weeks</text>
    <text x="865" y="903" font-size="8" text-anchor="middle" fill="#7F8C8D">Dec 2025 - May 2026</text>
  </g>
  
  <!-- CONNECTIONS -->
  <!-- Sources to Integration -->
  <line x1="280" y1="210" x2="410" y2="215" stroke="#3498DB" stroke-width="2.5" marker-end="url(#arrow)"/>
  <line x1="280" y1="310" x2="410" y2="340" stroke="#3498DB" stroke-width="2.5" marker-end="url(#arrow)"/>
  <line x1="280" y1="410" x2="410" y2="345" stroke="#3498DB" stroke-width="2.5" marker-end="url(#arrow)"/>
  <line x1="280" y1="510" x2="410" y2="350" stroke="#3498DB" stroke-width="2.5" marker-end="url(#arrow)"/>
  
  <!-- Integration to Azure Storage -->
  <line x1="510" y1="260" x2="510" y2="420" stroke="#E67E22" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowOrange)"/>
  
  <!-- Integration to Snowflake -->
  <line x1="610" y1="215" x2="740" y2="300" stroke="#3498DB" stroke-width="3" marker-end="url(#arrow)"/>
  <line x1="610" y1="340" x2="740" y2="350" stroke="#3498DB" stroke-width="3" marker-end="url(#arrow)"/>
  <line x1="610" y1="465" x2="740" y2="400" stroke="#3498DB" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- Snowflake to Atacama (bidirectional) -->
  <line x1="910" y1="620" x2="825" y2="690" stroke="#FF9800" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="835" y1="690" x2="910" y2="620" stroke="#FF9800" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Snowflake to Consumption -->
  <line x1="1080" y1="250" x2="1190" y2="220" stroke="#27AE60" stroke-width="3" marker-end="url(#arrowGreen)"/>
  <line x1="1080" y1="320" x2="1190" y2="320" stroke="#27AE60" stroke-width="3" marker-end="url(#arrowGreen)"/>
  <line x1="1080" y1="390" x2="1190" y2="420" stroke="#27AE60" stroke-width="3" marker-end="url(#arrowGreen)"/>
  <line x1="1080" y1="460" x2="1190" y2="520" stroke="#27AE60" stroke-width="3" marker-end="url(#arrowGreen)"/>
  
  <!-- Consumption to Users -->
  <line x1="1410" y1="220" x2="1520" y2="320" stroke="#E74C3C" stroke-width="2.5" marker-end="url(#arrowRed)"/>
  <line x1="1410" y1="320" x2="1510" y2="360" stroke="#E74C3C" stroke-width="2.5" marker-end="url(#arrowRed)"/>
  <line x1="1410" y1="420" x2="1510" y2="400" stroke="#E74C3C" stroke-width="2.5" marker-end="url(#arrowRed)"/>
  <line x1="1410" y1="520" x2="1510" y2="440" stroke="#E74C3C" stroke-width="2.5" marker-end="url(#arrowRed)"/>
  
  <!-- KPMG to Snowflake -->
  <line x1="825" y1="820" x2="910" y2="620" stroke="#4CAF50" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Key Metrics Box -->
  <g id="metrics" filter="url(#shadow)">
    <rect x="50" y="800" width="600" height="180" fill="white" stroke="#34495E" stroke-width="2" rx="10"/>
    <text x="350" y="830" font-size="14" font-weight="bold" text-anchor="middle" fill="#2C3E50">Key Metrics &amp; Timeline</text>
    
    <text x="70" y="860" font-size="11" font-weight="bold" fill="#2C3E50">Current State:</text>
    <text x="70" y="880" font-size="10">• Data: ~160TB (includes indexes)</text>
    <text x="70" y="898" font-size="10">• PSA: 8TB, 13.7B records</text>
    <text x="70" y="916" font-size="10">• Reports: 500+ across organization</text>
    <text x="70" y="934" font-size="10">• Team: 2 engineers + 1 lead</text>
    <text x="70" y="952" font-size="10">• Refresh: 90% daily, some 8x/day</text>
    
    <text x="370" y="860" font-size="11" font-weight="bold" fill="#2C3E50">Future (Snowflake):</text>
    <text x="370" y="880" font-size="10">• Storage: ~32TB (5:1 compression)</text>
    <text x="370" y="898" font-size="10">• Cost: ~$8,800/year storage</text>
    <text x="370" y="916" font-size="10">• Domains: Agency, Customer, Loan</text>
    <text x="370" y="934" font-size="10">• Phase 1: Dec 2025 - Jan 2026 (6 weeks)</text>
    <text x="370" y="952" font-size="10">• Phase 2: Jan - May 2026 (14-16 weeks)</text>
  </g>
  
  <!-- Legend -->
  <g id="legend" filter="url(#shadow)">
    <rect x="1190" y="800" width="560" height="180" fill="white" stroke="#34495E" stroke-width="2" rx="10"/>
    <text x="1470" y="830" font-size="14" font-weight="bold" text-anchor="middle" fill="#2C3E50">Legend</text>
    
    <line x1="1210" y1="855" x2="1270" y2="855" stroke="#3498DB" stroke-width="3" marker-end="url(#arrow)"/>
    <text x="1285" y="860" font-size="10">Source → Integration → Snowflake</text>
    
    <line x1="1210" y1="880" x2="1270" y2="880" stroke="#27AE60" stroke-width="3" marker-end="url(#arrowGreen)"/>
    <text x="1285" y="885" font-size="10">Snowflake → Consumption</text>
    
    <line x1="1210" y1="905" x2="1270" y2="905" stroke="#E74C3C" stroke-width="3" marker-end="url(#arrowRed)"/>
    <text x="1285" y="910" font-size="10">Consumption → Users</text>
    
    <line x1="1210" y1="930" x2="1270" y2="930" stroke="#FF9800" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="1285" y="935" font-size="10">Governance / Control</text>
    
    <line x1="1210" y1="955" x2="1270" y2="955" stroke="#4CAF50" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="1285" y="960" font-size="10">Partner Support</text>
  </g>
  
  <!-- Lereta Logo -->
  <image x="1520" y="1310" width="220" height="60" xlink:href="/Users/sdickson/TestCode/Logos/LERETA_Logo_02_09_18.png"/>
  
  <!-- Footer -->
  <text x="900" y="1380" font-size="12" text-anchor="middle" fill="#7F8C8D">Lereta Data Modernization Initiative | November 2025 | Powered by Snowflake</text>
</svg>

